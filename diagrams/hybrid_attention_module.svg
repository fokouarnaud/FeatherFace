<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.2 (20251019.1705)
 -->
<!-- Title: HybridAttentionModule Pages: 1 -->
<svg width="376pt" height="1006pt"
 viewBox="0.00 0.00 376.00 1006.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1001.76)">
<title>HybridAttentionModule</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1001.76 372,-1001.76 372,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="184" y="-980.46" font-family="Arial Bold" font-size="14.00">ECA&#45;CBAM Sequential Hybrid Attention Module</text>
<text xml:space="preserve" text-anchor="middle" x="184" y="-964.71" font-family="Arial Bold" font-size="14.00">449,017 parameters</text>
<g id="clust1" class="cluster">
<title>cluster_eca</title>
<polygon fill="#e8f5e8" stroke="#4caf50" points="8,-536.26 8,-876.51 309,-876.51 309,-536.26 8,-536.26"/>
<text xml:space="preserve" text-anchor="middle" x="158.5" y="-859.21" font-family="Arial Bold" font-size="14.00">STEP 1: ECA Channel Attention (First Stage)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_sam</title>
<polygon fill="#fde7f3" stroke="#e91e63" points="36,-83.75 36,-416 360,-416 360,-83.75 36,-83.75"/>
<text xml:space="preserve" text-anchor="middle" x="198" y="-398.7" font-family="Arial Bold" font-size="14.00">STEP 2: CBAM Spatial Attention (Second Stage)</text>
</g>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<ellipse fill="#e8f4fd" stroke="#1e88e5" cx="128" cy="-935.64" rx="73.36" ry="22.63"/>
<text xml:space="preserve" text-anchor="middle" x="128" y="-938.14" font-family="Arial" font-size="10.00">Input Feature Map</text>
<text xml:space="preserve" text-anchor="middle" x="128" y="-926.14" font-family="Arial" font-size="10.00">X in R^(B×C×H×W)</text>
</g>
<!-- eca_gap -->
<g id="node2" class="node">
<title>eca_gap</title>
<polygon fill="#c8e6c8" stroke="black" points="143.62,-844.76 26.38,-844.76 26.38,-808.76 143.62,-808.76 143.62,-844.76"/>
<text xml:space="preserve" text-anchor="middle" x="85" y="-829.26" font-family="Arial" font-size="10.00">Global Average Pooling</text>
<text xml:space="preserve" text-anchor="middle" x="85" y="-817.26" font-family="Arial" font-size="10.00">GAP(X)</text>
</g>
<!-- input&#45;&gt;eca_gap -->
<g id="edge1" class="edge">
<title>input&#45;&gt;eca_gap</title>
<path fill="none" stroke="black" stroke-width="2" d="M119.19,-912.75C112.71,-896.63 103.82,-874.55 96.74,-856.93"/>
<polygon fill="black" stroke="black" stroke-width="2" points="100.06,-855.82 93.08,-847.85 93.57,-858.43 100.06,-855.82"/>
<text xml:space="preserve" text-anchor="middle" x="114.62" y="-886.46" font-family="Arial" font-size="9.00">X</text>
</g>
<!-- eca_mult -->
<g id="node5" class="node">
<title>eca_mult</title>
<polygon fill="#66bb6a" stroke="black" points="150,-608.26 38,-576.26 150,-544.26 262,-576.26 150,-608.26"/>
<text xml:space="preserve" text-anchor="middle" x="150" y="-578.76" font-family="Arial" font-size="10.00">Channel Recalibration</text>
<text xml:space="preserve" text-anchor="middle" x="150" y="-566.76" font-family="Arial" font-size="10.00">F_ECA = X * M_c</text>
</g>
<!-- input&#45;&gt;eca_mult -->
<g id="edge5" class="edge">
<title>input&#45;&gt;eca_mult</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M142.65,-913.18C155.45,-892.32 172,-859.26 172,-827.76 172,-827.76 172,-827.76 172,-671.76 172,-653.42 168.02,-633.59 163.45,-616.85"/>
<polygon fill="black" stroke="black" points="166.81,-615.88 160.65,-607.26 160.09,-617.84 166.81,-615.88"/>
</g>
<!-- eca_conv1d -->
<g id="node3" class="node">
<title>eca_conv1d</title>
<polygon fill="#a5d6a7" stroke="black" points="139.62,-771.76 40.38,-771.76 40.38,-727.76 139.62,-727.76 139.62,-771.76"/>
<text xml:space="preserve" text-anchor="middle" x="90" y="-758.26" font-family="Arial" font-size="10.00">Adaptive Conv1D</text>
<text xml:space="preserve" text-anchor="middle" x="90" y="-746.26" font-family="Arial" font-size="10.00">k = adaptive kernel</text>
<text xml:space="preserve" text-anchor="middle" x="90" y="-734.26" font-family="Arial" font-size="10.00">~22 params</text>
</g>
<!-- eca_gap&#45;&gt;eca_conv1d -->
<g id="edge2" class="edge">
<title>eca_gap&#45;&gt;eca_conv1d</title>
<path fill="none" stroke="black" d="M86.16,-808.36C86.66,-800.93 87.25,-791.99 87.82,-783.4"/>
<polygon fill="black" stroke="black" points="91.31,-783.8 88.48,-773.59 84.32,-783.33 91.31,-783.8"/>
</g>
<!-- eca_sigmoid -->
<g id="node4" class="node">
<title>eca_sigmoid</title>
<polygon fill="#81c784" stroke="black" points="131,-690.76 77,-690.76 77,-654.76 131,-654.76 131,-690.76"/>
<text xml:space="preserve" text-anchor="middle" x="104" y="-675.26" font-family="Arial" font-size="10.00">Sigmoid</text>
<text xml:space="preserve" text-anchor="middle" x="104" y="-663.26" font-family="Arial" font-size="10.00">M_c</text>
</g>
<!-- eca_conv1d&#45;&gt;eca_sigmoid -->
<g id="edge3" class="edge">
<title>eca_conv1d&#45;&gt;eca_sigmoid</title>
<path fill="none" stroke="black" d="M93.97,-727.47C95.45,-719.58 97.14,-710.51 98.71,-702.09"/>
<polygon fill="black" stroke="black" points="102.14,-702.78 100.54,-692.31 95.26,-701.5 102.14,-702.78"/>
</g>
<!-- eca_sigmoid&#45;&gt;eca_mult -->
<g id="edge4" class="edge">
<title>eca_sigmoid&#45;&gt;eca_mult</title>
<path fill="none" stroke="black" d="M112.44,-654.43C117.81,-643.39 124.99,-628.65 131.63,-615.01"/>
<polygon fill="black" stroke="black" points="134.67,-616.75 135.9,-606.23 128.37,-613.69 134.67,-616.75"/>
<text xml:space="preserve" text-anchor="middle" x="134.25" y="-628.21" font-family="Arial" font-size="9.00">M_c</text>
</g>
<!-- intermediate -->
<g id="node6" class="node">
<title>intermediate</title>
<ellipse fill="#fff9c4" stroke="black" cx="150" cy="-475.13" rx="72.3" ry="22.63"/>
<text xml:space="preserve" text-anchor="middle" x="150" y="-477.63" font-family="Arial" font-size="10.00">Intermediate Output</text>
<text xml:space="preserve" text-anchor="middle" x="150" y="-465.63" font-family="Arial" font-size="10.00">F_ECA</text>
</g>
<!-- eca_mult&#45;&gt;intermediate -->
<g id="edge6" class="edge">
<title>eca_mult&#45;&gt;intermediate</title>
<path fill="none" stroke="black" stroke-width="2" d="M150,-543.9C150,-533.45 150,-521.74 150,-511.04"/>
<polygon fill="black" stroke="black" stroke-width="2" points="153.5,-511.22 150,-501.22 146.5,-511.22 153.5,-511.22"/>
<text xml:space="preserve" text-anchor="middle" x="164.62" y="-517.71" font-family="Arial" font-size="9.00">F_ECA</text>
</g>
<!-- sam_pool -->
<g id="node7" class="node">
<title>sam_pool</title>
<polygon fill="#f8bbd9" stroke="black" points="166.62,-384.25 79.38,-384.25 79.38,-348.25 166.62,-348.25 166.62,-384.25"/>
<text xml:space="preserve" text-anchor="middle" x="123" y="-368.75" font-family="Arial" font-size="10.00">Channel Pooling</text>
<text xml:space="preserve" text-anchor="middle" x="123" y="-356.75" font-family="Arial" font-size="10.00">Avg + Max</text>
</g>
<!-- intermediate&#45;&gt;sam_pool -->
<g id="edge7" class="edge">
<title>intermediate&#45;&gt;sam_pool</title>
<path fill="none" stroke="black" stroke-width="2" d="M144.47,-452.25C140.44,-436.28 134.93,-414.47 130.5,-396.94"/>
<polygon fill="black" stroke="black" stroke-width="2" points="133.95,-396.31 128.11,-387.47 127.16,-398.02 133.95,-396.31"/>
<text xml:space="preserve" text-anchor="middle" x="154.34" y="-425.95" font-family="Arial" font-size="9.00">F_ECA</text>
</g>
<!-- sam_mult -->
<g id="node10" class="node">
<title>sam_mult</title>
<polygon fill="#d81b60" stroke="black" points="175,-155.75 69,-123.75 175,-91.75 281,-123.75 175,-155.75"/>
<text xml:space="preserve" text-anchor="middle" x="175" y="-126.25" font-family="Arial" font-size="10.00">Spatial Recalibration</text>
<text xml:space="preserve" text-anchor="middle" x="175" y="-114.25" font-family="Arial" font-size="10.00">Y = F_ECA * M_s</text>
</g>
<!-- intermediate&#45;&gt;sam_mult -->
<g id="edge11" class="edge">
<title>intermediate&#45;&gt;sam_mult</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M166.32,-452.92C180.57,-432.24 199,-399.3 199,-367.25 199,-367.25 199,-367.25 199,-219.25 199,-200.51 194.51,-180.3 189.41,-163.4"/>
<polygon fill="black" stroke="black" points="192.87,-162.71 186.48,-154.26 186.2,-164.85 192.87,-162.71"/>
</g>
<!-- sam_conv7x7 -->
<g id="node8" class="node">
<title>sam_conv7x7</title>
<polygon fill="#ec407a" stroke="black" points="170.88,-311.25 67.12,-311.25 67.12,-275.25 170.88,-275.25 170.88,-311.25"/>
<text xml:space="preserve" text-anchor="middle" x="119" y="-295.75" font-family="Arial" font-size="10.00">Spatial Conv2D 7x7</text>
<text xml:space="preserve" text-anchor="middle" x="119" y="-283.75" font-family="Arial" font-size="10.00">98 params</text>
</g>
<!-- sam_pool&#45;&gt;sam_conv7x7 -->
<g id="edge8" class="edge">
<title>sam_pool&#45;&gt;sam_conv7x7</title>
<path fill="none" stroke="black" d="M122.03,-348.07C121.6,-340.39 121.08,-331.15 120.59,-322.5"/>
<polygon fill="black" stroke="black" points="124.1,-322.58 120.04,-312.79 117.11,-322.98 124.1,-322.58"/>
</g>
<!-- sam_sigmoid -->
<g id="node9" class="node">
<title>sam_sigmoid</title>
<polygon fill="#e91e63" stroke="black" points="159,-238.25 105,-238.25 105,-202.25 159,-202.25 159,-238.25"/>
<text xml:space="preserve" text-anchor="middle" x="132" y="-222.75" font-family="Arial" font-size="10.00">Sigmoid</text>
<text xml:space="preserve" text-anchor="middle" x="132" y="-210.75" font-family="Arial" font-size="10.00">M_s</text>
</g>
<!-- sam_conv7x7&#45;&gt;sam_sigmoid -->
<g id="edge9" class="edge">
<title>sam_conv7x7&#45;&gt;sam_sigmoid</title>
<path fill="none" stroke="black" d="M122.15,-275.07C123.55,-267.39 125.25,-258.15 126.83,-249.5"/>
<polygon fill="black" stroke="black" points="130.25,-250.24 128.61,-239.77 123.37,-248.98 130.25,-250.24"/>
</g>
<!-- sam_sigmoid&#45;&gt;sam_mult -->
<g id="edge10" class="edge">
<title>sam_sigmoid&#45;&gt;sam_mult</title>
<path fill="none" stroke="black" d="M139.89,-201.92C144.91,-190.88 151.62,-176.14 157.82,-162.5"/>
<polygon fill="black" stroke="black" points="160.85,-164.3 161.81,-153.74 154.48,-161.4 160.85,-164.3"/>
<text xml:space="preserve" text-anchor="middle" x="160.84" y="-175.7" font-family="Arial" font-size="9.00">M_s</text>
</g>
<!-- output -->
<g id="node11" class="node">
<title>output</title>
<ellipse fill="#e8f4fd" stroke="#1e88e5" cx="175" cy="-22.63" rx="48.97" ry="22.63"/>
<text xml:space="preserve" text-anchor="middle" x="175" y="-25.13" font-family="Arial" font-size="10.00">Final Output</text>
<text xml:space="preserve" text-anchor="middle" x="175" y="-13.13" font-family="Arial" font-size="10.00">Y</text>
</g>
<!-- sam_mult&#45;&gt;output -->
<g id="edge12" class="edge">
<title>sam_mult&#45;&gt;output</title>
<path fill="none" stroke="black" stroke-width="2" d="M175,-91.39C175,-80.94 175,-69.24 175,-58.54"/>
<polygon fill="black" stroke="black" stroke-width="2" points="178.5,-58.72 175,-48.72 171.5,-58.72 178.5,-58.72"/>
<text xml:space="preserve" text-anchor="middle" x="178" y="-65.2" font-family="Arial" font-size="9.00">Y</text>
</g>
</g>
</svg>
