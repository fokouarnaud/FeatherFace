<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: HybridAttentionModule Pages: 1 -->
<svg width="1946pt" height="427pt"
 viewBox="0.00 0.00 1945.88 427.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 423)">
<title>HybridAttentionModule</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-423 1941.88,-423 1941.88,4 -4,4"/>
<text text-anchor="middle" x="968.94" y="-403.8" font-family="Arial Bold" font-size="14.00">Hybrid Attention Module: ECA&#45;Net + CBAM SAM (Parallel Architecture)</text>
<g id="clust1" class="cluster">
<title>cluster_parallel</title>
<polygon fill="#f8f9fa" stroke="#6c757d" points="293,-74 293,-342 1144,-342 1144,-74 293,-74"/>
<text text-anchor="middle" x="718.5" y="-326.8" font-family="Arial Bold" font-size="14.00">Parallel Attention Processing</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_eca</title>
<polygon fill="#e8f5e8" stroke="#4caf50" points="303.5,-230 303.5,-311 1136,-311 1136,-230 303.5,-230"/>
<text text-anchor="middle" x="719.75" y="-295.8" font-family="Arial Bold" font-size="14.00">ECA Channel Attention</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_sam</title>
<polygon fill="#fde7f3" stroke="#e91e63" points="301,-82 301,-222 937,-222 937,-82 301,-82"/>
<text text-anchor="middle" x="619" y="-206.8" font-family="Arial Bold" font-size="14.00">CBAM Spatial Attention</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_fusion</title>
<polygon fill="#fff3e0" stroke="#ff9800" points="1210,-20 1210,-201 1742,-201 1742,-20 1210,-20"/>
<text text-anchor="middle" x="1476" y="-185.8" font-family="Arial Bold" font-size="14.00">Hybrid Fusion Layer</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_math</title>
<polygon fill="#f3e5f5" stroke="#9c27b0" points="8,-142 8,-261 239,-261 239,-142 8,-142"/>
<text text-anchor="middle" x="123.5" y="-245.8" font-family="Arial Bold" font-size="14.00">Mathematical Formulation</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_params</title>
<polygon fill="#e3f2fd" stroke="#2196f3" points="48.5,-269 48.5,-388 199.5,-388 199.5,-269 48.5,-269"/>
<text text-anchor="middle" x="124" y="-372.8" font-family="Arial Bold" font-size="14.00">Parameter Efficiency</text>
</g>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<ellipse fill="#e8f4fd" stroke="#1e88e5" cx="123.5" cy="-111" rx="74.91" ry="21.43"/>
<text text-anchor="middle" x="123.5" y="-114" font-family="Arial" font-size="10.00">Input Feature Map</text>
<text text-anchor="middle" x="123.5" y="-103" font-family="Arial" font-size="10.00">F ∈ ℝ^(B×C×H×W)</text>
</g>
<!-- eca_gap -->
<g id="node2" class="node">
<title>eca_gap</title>
<polygon fill="#c8e6c8" stroke="black" points="473.5,-279.5 311.5,-279.5 311.5,-238.5 473.5,-238.5 473.5,-279.5"/>
<text text-anchor="middle" x="392.5" y="-267.5" font-family="Arial" font-size="10.00">Global Average</text>
<text text-anchor="middle" x="392.5" y="-256.5" font-family="Arial" font-size="10.00">Pooling</text>
<text text-anchor="middle" x="392.5" y="-245.5" font-family="Arial" font-size="10.00">ℝ^(B×C×H×W) → ℝ^(B×C×1×1)</text>
</g>
<!-- input&#45;&gt;eca_gap -->
<g id="edge1" class="edge">
<title>input&#45;&gt;eca_gap</title>
<path fill="none" stroke="#4caf50" d="M196.31,-116.26C211.89,-120.39 227.22,-127.13 239,-138 249.64,-147.82 242.25,-156.19 249,-169 263.91,-197.32 266.92,-207.45 293,-226 296.97,-228.82 301.2,-231.42 305.59,-233.8"/>
<polygon fill="#4caf50" stroke="#4caf50" points="304.28,-237.06 314.79,-238.41 307.41,-230.8 304.28,-237.06"/>
<text text-anchor="middle" x="267" y="-231.8" font-family="Arial" font-size="9.00">Channel</text>
<text text-anchor="middle" x="267" y="-221.8" font-family="Arial" font-size="9.00">Branch</text>
</g>
<!-- sam_avgpool -->
<g id="node7" class="node">
<title>sam_avgpool</title>
<polygon fill="#f8bbd9" stroke="black" points="476,-190.5 309,-190.5 309,-149.5 476,-149.5 476,-190.5"/>
<text text-anchor="middle" x="392.5" y="-178.5" font-family="Arial" font-size="10.00">Channel&#45;wise</text>
<text text-anchor="middle" x="392.5" y="-167.5" font-family="Arial" font-size="10.00">Average Pooling</text>
<text text-anchor="middle" x="392.5" y="-156.5" font-family="Arial" font-size="10.00">ℝ^(B×C×H×W) → ℝ^(B×1×H×W)</text>
</g>
<!-- input&#45;&gt;sam_avgpool -->
<g id="edge2" class="edge">
<title>input&#45;&gt;sam_avgpool</title>
<path fill="none" stroke="#e91e63" d="M183.09,-123.95C216.98,-131.44 260.4,-141.03 298.82,-149.52"/>
<polygon fill="#e91e63" stroke="#e91e63" points="298.47,-153.03 308.99,-151.77 299.98,-146.19 298.47,-153.03"/>
<text text-anchor="middle" x="267" y="-157.8" font-family="Arial" font-size="9.00">Spatial</text>
<text text-anchor="middle" x="267" y="-147.8" font-family="Arial" font-size="9.00">Branch</text>
</g>
<!-- sam_maxpool -->
<g id="node8" class="node">
<title>sam_maxpool</title>
<polygon fill="#f8bbd9" stroke="black" points="476,-131.5 309,-131.5 309,-90.5 476,-90.5 476,-131.5"/>
<text text-anchor="middle" x="392.5" y="-119.5" font-family="Arial" font-size="10.00">Channel&#45;wise</text>
<text text-anchor="middle" x="392.5" y="-108.5" font-family="Arial" font-size="10.00">Max Pooling</text>
<text text-anchor="middle" x="392.5" y="-97.5" font-family="Arial" font-size="10.00">ℝ^(B×C×H×W) → ℝ^(B×1×H×W)</text>
</g>
<!-- input&#45;&gt;sam_maxpool -->
<g id="edge3" class="edge">
<title>input&#45;&gt;sam_maxpool</title>
<path fill="none" stroke="#e91e63" stroke-dasharray="1,5" d="M198.52,-111C229.57,-111 266.01,-111 298.82,-111"/>
<polygon fill="#e91e63" stroke="#e91e63" points="298.88,-114.5 308.88,-111 298.88,-107.5 298.88,-114.5"/>
</g>
<!-- cross_interaction -->
<g id="node13" class="node">
<title>cross_interaction</title>
<polygon fill="#ffb74d" stroke="black" points="1340,-69.5 1248,-69.5 1248,-28.5 1340,-28.5 1340,-69.5"/>
<text text-anchor="middle" x="1294" y="-57.5" font-family="Arial" font-size="10.00">Cross Interaction</text>
<text text-anchor="middle" x="1294" y="-46.5" font-family="Arial" font-size="10.00">Conv2D 1×1</text>
<text text-anchor="middle" x="1294" y="-35.5" font-family="Arial" font-size="10.00">~30 params</text>
</g>
<!-- input&#45;&gt;cross_interaction -->
<g id="edge4" class="edge">
<title>input&#45;&gt;cross_interaction</title>
<path fill="none" stroke="#ff9800" d="M167.65,-93.75C219.8,-74.5 310.63,-46 391.5,-46 391.5,-46 391.5,-46 1048,-46 1113.13,-46 1187.99,-47.07 1237.65,-47.94"/>
<polygon fill="#ff9800" stroke="#ff9800" points="1237.79,-51.44 1247.85,-48.12 1237.91,-44.44 1237.79,-51.44"/>
<text text-anchor="middle" x="763" y="-58.8" font-family="Arial" font-size="9.00">Interaction</text>
<text text-anchor="middle" x="763" y="-48.8" font-family="Arial" font-size="9.00">Branch</text>
</g>
<!-- residual_add -->
<g id="node15" class="node">
<title>residual_add</title>
<polygon fill="#ff9800" stroke="black" points="1663,-110 1592,-69 1663,-28 1734,-69 1663,-110"/>
<text text-anchor="middle" x="1663" y="-77.5" font-family="Arial" font-size="10.00">Residual</text>
<text text-anchor="middle" x="1663" y="-66.5" font-family="Arial" font-size="10.00">Connection</text>
<text text-anchor="middle" x="1663" y="-55.5" font-family="Arial" font-size="10.00">F + α·Fused</text>
</g>
<!-- input&#45;&gt;residual_add -->
<g id="edge18" class="edge">
<title>input&#45;&gt;residual_add</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M151.78,-91.16C198.43,-59.23 297.63,0 391.5,0 391.5,0 391.5,0 1482,0 1531.62,0 1584.13,-23.14 1619.55,-42.62"/>
<polygon fill="black" stroke="black" points="1618.19,-45.87 1628.62,-47.73 1621.63,-39.77 1618.19,-45.87"/>
<text text-anchor="middle" x="899" y="-2.8" font-family="Arial" font-size="9.00">Residual</text>
</g>
<!-- eca_reshape -->
<g id="node3" class="node">
<title>eca_reshape</title>
<polygon fill="#c8e6c8" stroke="black" points="657,-277 513,-277 513,-241 657,-241 657,-277"/>
<text text-anchor="middle" x="585" y="-262" font-family="Arial" font-size="10.00">Reshape</text>
<text text-anchor="middle" x="585" y="-251" font-family="Arial" font-size="10.00">ℝ^(B×C×1×1) → ℝ^(B×1×C)</text>
</g>
<!-- eca_gap&#45;&gt;eca_reshape -->
<g id="edge5" class="edge">
<title>eca_gap&#45;&gt;eca_reshape</title>
<path fill="none" stroke="black" d="M473.74,-259C483.3,-259 493.06,-259 502.63,-259"/>
<polygon fill="black" stroke="black" points="502.93,-262.5 512.93,-259 502.93,-255.5 502.93,-262.5"/>
</g>
<!-- eca_conv1d -->
<g id="node4" class="node">
<title>eca_conv1d</title>
<polygon fill="#a5d6a7" stroke="black" points="832,-279.5 694,-279.5 694,-238.5 832,-238.5 832,-279.5"/>
<text text-anchor="middle" x="763" y="-267.5" font-family="Arial" font-size="10.00">Conv1D</text>
<text text-anchor="middle" x="763" y="-256.5" font-family="Arial" font-size="10.00">k=ψ(C)=|log₂(C)/2+0.5|_odd</text>
<text text-anchor="middle" x="763" y="-245.5" font-family="Arial" font-size="10.00">~22 params</text>
</g>
<!-- eca_reshape&#45;&gt;eca_conv1d -->
<g id="edge6" class="edge">
<title>eca_reshape&#45;&gt;eca_conv1d</title>
<path fill="none" stroke="black" d="M657.08,-259C665.79,-259 674.73,-259 683.53,-259"/>
<polygon fill="black" stroke="black" points="683.8,-262.5 693.8,-259 683.8,-255.5 683.8,-262.5"/>
</g>
<!-- eca_sigmoid -->
<g id="node5" class="node">
<title>eca_sigmoid</title>
<polygon fill="#81c784" stroke="black" points="929,-275 869,-275 869,-239 929,-239 929,-275"/>
<text text-anchor="middle" x="899" y="-260" font-family="Arial" font-size="10.00">Sigmoid</text>
<text text-anchor="middle" x="899" y="-249" font-family="Arial" font-size="10.00">Activation</text>
</g>
<!-- eca_conv1d&#45;&gt;eca_sigmoid -->
<g id="edge7" class="edge">
<title>eca_conv1d&#45;&gt;eca_sigmoid</title>
<path fill="none" stroke="black" d="M832.18,-257.98C841.27,-257.85 850.33,-257.71 858.7,-257.59"/>
<polygon fill="black" stroke="black" points="858.92,-261.08 868.87,-257.43 858.82,-254.08 858.92,-261.08"/>
</g>
<!-- eca_expand -->
<g id="node6" class="node">
<title>eca_expand</title>
<polygon fill="#c8e6c8" stroke="black" points="1128,-274 966,-274 966,-238 1128,-238 1128,-274"/>
<text text-anchor="middle" x="1047" y="-259" font-family="Arial" font-size="10.00">Expand</text>
<text text-anchor="middle" x="1047" y="-248" font-family="Arial" font-size="10.00">ℝ^(B×C×1×1) → ℝ^(B×C×H×W)</text>
</g>
<!-- eca_sigmoid&#45;&gt;eca_expand -->
<g id="edge8" class="edge">
<title>eca_sigmoid&#45;&gt;eca_expand</title>
<path fill="none" stroke="black" d="M929.19,-256.8C937.16,-256.75 946.23,-256.68 955.72,-256.62"/>
<polygon fill="black" stroke="black" points="955.75,-260.12 965.72,-256.55 955.7,-253.12 955.75,-260.12"/>
</g>
<!-- element_mult -->
<g id="node12" class="node">
<title>element_mult</title>
<polygon fill="#ffcc80" stroke="black" points="1294,-170 1218,-129 1294,-88 1370,-129 1294,-170"/>
<text text-anchor="middle" x="1294" y="-137.5" font-family="Arial" font-size="10.00">Element&#45;wise</text>
<text text-anchor="middle" x="1294" y="-126.5" font-family="Arial" font-size="10.00">Multiplication</text>
<text text-anchor="middle" x="1294" y="-115.5" font-family="Arial" font-size="10.00">Fₑcₐ ⊙ Fₛₐₘ</text>
</g>
<!-- eca_expand&#45;&gt;element_mult -->
<g id="edge13" class="edge">
<title>eca_expand&#45;&gt;element_mult</title>
<path fill="none" stroke="black" d="M1082.84,-237.94C1125.54,-215.81 1198.06,-178.21 1245.75,-153.49"/>
<polygon fill="black" stroke="black" points="1247.38,-156.59 1254.65,-148.88 1244.16,-150.38 1247.38,-156.59"/>
<text text-anchor="middle" x="1176" y="-202.8" font-family="Arial" font-size="9.00">ECA Output</text>
</g>
<!-- sam_concat -->
<g id="node9" class="node">
<title>sam_concat</title>
<polygon fill="#f48fb1" stroke="black" points="626.5,-147 543.5,-147 543.5,-111 626.5,-111 626.5,-147"/>
<text text-anchor="middle" x="585" y="-132" font-family="Arial" font-size="10.00">Concatenate</text>
<text text-anchor="middle" x="585" y="-121" font-family="Arial" font-size="10.00">ℝ^(B×2×H×W)</text>
</g>
<!-- sam_avgpool&#45;&gt;sam_concat -->
<g id="edge9" class="edge">
<title>sam_avgpool&#45;&gt;sam_concat</title>
<path fill="none" stroke="black" d="M476.22,-152.2C495.7,-148 515.88,-143.66 533.45,-139.88"/>
<polygon fill="black" stroke="black" points="534.42,-143.25 543.46,-137.73 532.95,-136.41 534.42,-143.25"/>
</g>
<!-- sam_maxpool&#45;&gt;sam_concat -->
<g id="edge10" class="edge">
<title>sam_maxpool&#45;&gt;sam_concat</title>
<path fill="none" stroke="black" d="M476.22,-118.82C495.7,-120.66 515.88,-122.56 533.45,-124.22"/>
<polygon fill="black" stroke="black" points="533.17,-127.71 543.46,-125.17 533.83,-120.74 533.17,-127.71"/>
</g>
<!-- sam_conv7x7 -->
<g id="node10" class="node">
<title>sam_conv7x7</title>
<polygon fill="#ec407a" stroke="black" points="799,-147 727,-147 727,-111 799,-111 799,-147"/>
<text text-anchor="middle" x="763" y="-132" font-family="Arial" font-size="10.00">Conv2D 7×7</text>
<text text-anchor="middle" x="763" y="-121" font-family="Arial" font-size="10.00">98 params</text>
</g>
<!-- sam_concat&#45;&gt;sam_conv7x7 -->
<g id="edge11" class="edge">
<title>sam_concat&#45;&gt;sam_conv7x7</title>
<path fill="none" stroke="black" d="M626.82,-129C653.65,-129 688.8,-129 716.52,-129"/>
<polygon fill="black" stroke="black" points="716.75,-132.5 726.75,-129 716.75,-125.5 716.75,-132.5"/>
</g>
<!-- sam_sigmoid -->
<g id="node11" class="node">
<title>sam_sigmoid</title>
<polygon fill="#e91e63" stroke="black" points="929,-147 869,-147 869,-111 929,-111 929,-147"/>
<text text-anchor="middle" x="899" y="-132" font-family="Arial" font-size="10.00">Sigmoid</text>
<text text-anchor="middle" x="899" y="-121" font-family="Arial" font-size="10.00">Activation</text>
</g>
<!-- sam_conv7x7&#45;&gt;sam_sigmoid -->
<g id="edge12" class="edge">
<title>sam_conv7x7&#45;&gt;sam_sigmoid</title>
<path fill="none" stroke="black" d="M799.21,-129C817.53,-129 839.97,-129 858.84,-129"/>
<polygon fill="black" stroke="black" points="858.9,-132.5 868.9,-129 858.9,-125.5 858.9,-132.5"/>
</g>
<!-- sam_sigmoid&#45;&gt;element_mult -->
<g id="edge14" class="edge">
<title>sam_sigmoid&#45;&gt;element_mult</title>
<path fill="none" stroke="black" d="M929.22,-129C987.4,-129 1119.68,-129 1207.66,-129"/>
<polygon fill="black" stroke="black" points="1207.9,-132.5 1217.9,-129 1207.9,-125.5 1207.9,-132.5"/>
<text text-anchor="middle" x="1047" y="-131.8" font-family="Arial" font-size="9.00">SAM Output</text>
</g>
<!-- fusion_mult -->
<g id="node14" class="node">
<title>fusion_mult</title>
<polygon fill="#ffa726" stroke="black" points="1481,-99 1407,-69 1481,-39 1555,-69 1481,-99"/>
<text text-anchor="middle" x="1481" y="-72" font-family="Arial" font-size="10.00">Fusion</text>
<text text-anchor="middle" x="1481" y="-61" font-family="Arial" font-size="10.00">Multiplication</text>
</g>
<!-- element_mult&#45;&gt;fusion_mult -->
<g id="edge15" class="edge">
<title>element_mult&#45;&gt;fusion_mult</title>
<path fill="none" stroke="black" d="M1342.16,-113.7C1368.86,-105.05 1402.25,-94.22 1429.48,-85.39"/>
<polygon fill="black" stroke="black" points="1430.78,-88.64 1439.21,-82.23 1428.62,-81.99 1430.78,-88.64"/>
</g>
<!-- cross_interaction&#45;&gt;fusion_mult -->
<g id="edge16" class="edge">
<title>cross_interaction&#45;&gt;fusion_mult</title>
<path fill="none" stroke="black" d="M1340.26,-53.89C1361.88,-56.23 1388.21,-59.08 1412.16,-61.67"/>
<polygon fill="black" stroke="black" points="1411.94,-65.16 1422.25,-62.76 1412.69,-58.2 1411.94,-65.16"/>
</g>
<!-- fusion_mult&#45;&gt;residual_add -->
<g id="edge17" class="edge">
<title>fusion_mult&#45;&gt;residual_add</title>
<path fill="none" stroke="black" d="M1555.21,-69C1563.89,-69 1572.78,-69 1581.55,-69"/>
<polygon fill="black" stroke="black" points="1581.76,-72.5 1591.76,-69 1581.76,-65.5 1581.76,-72.5"/>
</g>
<!-- output -->
<g id="node16" class="node">
<title>output</title>
<ellipse fill="#e8f4fd" stroke="#1e88e5" cx="1854.44" cy="-69" rx="83.38" ry="21.43"/>
<text text-anchor="middle" x="1854.44" y="-72" font-family="Arial" font-size="10.00">Enhanced Feature Map</text>
<text text-anchor="middle" x="1854.44" y="-61" font-family="Arial" font-size="10.00">Y ∈ ℝ^(B×C×H×W)</text>
</g>
<!-- residual_add&#45;&gt;output -->
<g id="edge19" class="edge">
<title>residual_add&#45;&gt;output</title>
<path fill="none" stroke="black" d="M1734,-69C1742.73,-69 1751.76,-69 1760.77,-69"/>
<polygon fill="black" stroke="black" points="1760.91,-72.5 1770.91,-69 1760.91,-65.5 1760.91,-72.5"/>
</g>
<!-- math_formula -->
<g id="node17" class="node">
<title>math_formula</title>
<polygon fill="#e1bee7" stroke="black" points="225,-230 16,-230 16,-150 231,-150 231,-224 225,-230"/>
<polyline fill="none" stroke="black" points="225,-230 225,-224 "/>
<polyline fill="none" stroke="black" points="231,-224 225,-224 "/>
<text text-anchor="middle" x="123.5" y="-219.6" font-family="Arial" font-size="8.00">Y = F + α · (ECA(F) ⊙ SAM(F) ⊙ I(F))</text>
<text text-anchor="middle" x="123.5" y="-201.6" font-family="Arial" font-size="8.00">where:</text>
<text text-anchor="middle" x="123.5" y="-192.6" font-family="Arial" font-size="8.00">• ECA(F) = F ⊙ σ(Conv1D(GAP(F), k=ψ(C)))</text>
<text text-anchor="middle" x="123.5" y="-183.6" font-family="Arial" font-size="8.00">• SAM(F) = σ(Conv2D([AvgPool(F); MaxPool(F)], 7×7))</text>
<text text-anchor="middle" x="123.5" y="-174.6" font-family="Arial" font-size="8.00">• I(F) = σ(Conv2D(F, 1×1))</text>
<text text-anchor="middle" x="123.5" y="-165.6" font-family="Arial" font-size="8.00">• ⊙ = element&#45;wise multiplication</text>
<text text-anchor="middle" x="123.5" y="-156.6" font-family="Arial" font-size="8.00">• α = learnable interaction weight</text>
</g>
<!-- param_summary -->
<g id="node18" class="node">
<title>param_summary</title>
<polygon fill="#bbdefb" stroke="black" points="182.5,-357 58.5,-357 58.5,-277 188.5,-277 188.5,-351 182.5,-357"/>
<polyline fill="none" stroke="black" points="182.5,-357 182.5,-351 "/>
<polyline fill="none" stroke="black" points="188.5,-351 182.5,-351 "/>
<text text-anchor="middle" x="123.5" y="-346.6" font-family="Arial" font-size="8.00">Total Parameters per Module:</text>
<text text-anchor="middle" x="123.5" y="-337.6" font-family="Arial" font-size="8.00">• ECA Channel: ~22 params</text>
<text text-anchor="middle" x="123.5" y="-328.6" font-family="Arial" font-size="8.00">• SAM Spatial: ~98 params</text>
<text text-anchor="middle" x="123.5" y="-319.6" font-family="Arial" font-size="8.00">• Cross Interaction: ~30 params</text>
<text text-anchor="middle" x="123.5" y="-310.6" font-family="Arial" font-size="8.00">• Total: ~150 params</text>
<text text-anchor="middle" x="123.5" y="-292.6" font-family="Arial" font-size="8.00">vs CBAM: ~2100 params</text>
<text text-anchor="middle" x="123.5" y="-283.6" font-family="Arial" font-size="8.00">Efficiency: 93% reduction</text>
</g>
</g>
</svg>
