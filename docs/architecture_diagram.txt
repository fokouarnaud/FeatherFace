FeatherFace Architecture Diagram
===============================

                INPUT IMAGE (640×640×3)
                        |
                        ▼
              ┌─────────────────────────┐
              │   MobileNetV1 0.25x     │
              │     (Backbone)          │
              │   213K parameters       │
              └─────────┬───────────────┘
                        │
                ┌───────┼───────┐
                ▼       ▼       ▼
              ┌─P3─┐  ┌─P4─┐  ┌─P5─┐
              │32ch│  │64ch│  │128ch│
              └─┬─┘  └─┬─┘  └─┬─┘
                │      │      │
                └──────┼──────┘
                       ▼
              ┌─────────────────────────┐
              │        BiFPN            │
              │  (Bidirectional FPN)    │
              │    84K parameters       │
              │                         │
              │  ┌─F3─┐  ┌─F4─┐  ┌─F5─┐ │
              │  │52ch│◄─┤52ch├─►│52ch│ │
              │  └─┬─┘  └─┬─┘  └─┬─┘ │
              └────┼──────┼──────┼─────┘
                   │      │      │
                   ▼      ▼      ▼
              ┌─────────────────────────┐
              │    CBAM Attention       │
              │  (Channel + Spatial)    │
              │    12K parameters       │
              │                         │
              │  ┌─A3─┐  ┌─A4─┐  ┌─A5─┐ │
              │  │52ch│  │52ch│  │52ch│ │
              │  └─┬─┘  └─┬─┘  └─┬─┘ │
              └────┼──────┼──────┼─────┘
                   │      │      │
                   ▼      ▼      ▼
              ┌─────────────────────────┐
              │     SSH Detection       │
              │  (Context Enhancement)  │
              │   174K parameters       │
              │                         │
              │ ┌─SSH1─┐┌─SSH2─┐┌─SSH3─┐ │
              │ │ 52ch ││ 52ch ││ 52ch │ │
              │ └──┬──┘└──┬──┘└──┬──┘ │
              └────┼──────┼──────┼─────┘
                   │      │      │
              ┌────┼──────┼──────┼─────┐
              │    ▼      ▼      ▼     │
              │ ┌─────┐ ┌─────┐ ┌─────┐ │
              │ │Class│ │BBox │ │Land │ │
              │ │Head │ │Head │ │Head │ │
              │ └─────┘ └─────┘ └─────┘ │
              └─────────────────────────┘
                   │      │      │
                   ▼      ▼      ▼
         ┌─────────────────────────────────┐
         │           OUTPUTS               │
         │                                 │
         │ Classifications:  [16800, 2]    │
         │ Bounding Boxes:   [16800, 4]    │  
         │ Landmarks:        [16800, 10]   │
         └─────────────────────────────────┘

Legend:
━━━━━━ Main data flow
┌────┐ Processing blocks
  P3   Feature pyramid levels
  F3   BiFPN enhanced features  
  A3   Attention-weighted features
SSH1   Context enhancement modules

Parameter Distribution:
┌─────────────────┬─────────┬─────────┐
│ Component       │   V1    │   V2    │
├─────────────────┼─────────┼─────────┤
│ MobileNet       │ 213K    │ 213K    │
│ BiFPN           │  84K    │  10K    │
│ CBAM            │  12K    │   4K    │
│ SSH Heads       │ 174K    │  18K    │
│ Detection Heads │   5K    │   5K    │
├─────────────────┼─────────┼─────────┤
│ TOTAL           │ 488K    │ 256K    │
│ Reduction       │   -     │ 56.7%   │
└─────────────────┴─────────┴─────────┘

Key Features:
• Lightweight: 0.25M parameters for mobile deployment
• Multi-scale: Detects faces from 16px to 512px
• Real-time: <50ms inference on mobile GPU
• Accurate: 92%+ mAP on WIDERFace validation set
• Efficient: 2.3x compression with knowledge distillation